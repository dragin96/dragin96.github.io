(this["webpackJsonptest-task"]=this["webpackJsonptest-task"]||[]).push([[0],{134:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(16),l=t.n(c),i=(t(88),t(79)),o=(t(89),t(55)),u=t(54),s=t.n(u),m=t(74),g=t(75),d=t.n(g),h="https://www.cbr-xml-daily.ru/";function E(){return(E=Object(m.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new URL("".concat(h,"/daily_json.js")),e.next=3,d.a.get(a.href).then((function(e){if(200!==e.status)throw Error(e.statusText);var a=e.data;console.log("getCurrency");var t=Object.keys(a.Valute);a.Valute=t.map((function(e){return a.Valute[e]}));var n=new Date(a.Timestamp),r=new Date;return a.Timestamp="".concat(n.toLocaleDateString()," ").concat(n.toLocaleTimeString()),a.nowDate="".concat(r.toLocaleDateString()," ").concat(r.toLocaleTimeString()),a}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p="LOAD_CURRENCY_LOADING",v="LOAD_CURRENCY_SUCCESS",f="LOAD_CURRENCY_FAILURE";function b(){return function(e){e((function(e){e({type:p}),function(){return E.apply(this,arguments)}().then((function(a){return e({type:v,data:a})})).catch((function(a){return e((t=a.message,{type:f,error:t}));var t}))}))}}var w=t(165),O=t(160),j=t(164),y=t(163),L=t(158),D=t(161),C=t(162),k=t(159),N=t(76),S=t.n(N)()({table:{minWidth:650}}),R=function(e){var a=S(),t=e.data;return r.a.createElement(L.a,{component:k.a},r.a.createElement(O.a,{className:a.table,"aria-label":"simple table"},r.a.createElement(D.a,null,r.a.createElement(C.a,null,r.a.createElement(y.a,null,"ID"),r.a.createElement(y.a,{align:"right"},"\u041d\u043e\u043c\u0435\u0440 \u043a\u043e\u0434\u0430 \u0432\u0430\u043b\u044e\u0442\u044b"),r.a.createElement(y.a,{align:"right"},"\u041a\u043e\u0434 \u0432\u0430\u043b\u044e\u0442\u044b"),r.a.createElement(y.a,{align:"right"},"\u041d\u043e\u043c\u0438\u043d\u0430\u043b"),r.a.createElement(y.a,{align:"right"},"\u0412\u0430\u043b\u044e\u0442\u0430"),r.a.createElement(y.a,{align:"right"},"\u041a\u0443\u0440\u0441"),r.a.createElement(y.a,{align:"right"},"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0438\u0439 \u043a\u0443\u0440\u0441"))),r.a.createElement(j.a,null,t.map((function(e){return r.a.createElement(C.a,{key:e.ID},r.a.createElement(y.a,{align:"right"},e.ID),r.a.createElement(y.a,{align:"right"},e.NumCode),r.a.createElement(y.a,{align:"right"},e.CharCode),r.a.createElement(y.a,{align:"right"},e.Nominal),r.a.createElement(y.a,{align:"right"},e.Name),r.a.createElement(y.a,{align:"right"},e.Value),r.a.createElement(y.a,{align:"right"},e.Previous))})))))},I=t(167),T=t(166),_=t(17),U=function(){var e=Object(o.a)(),a=Object(o.b)((function(e){return e.currency}),_.a),t=Object(n.useState)(!1),c=Object(i.a)(t,2),l=c[0],u=c[1];a.data||a.isLoading||e(b());var s=a.data?r.a.createElement(R,{data:a.data.Valute}):r.a.createElement(w.a,{className:"spinner"});return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"info"},a.data?r.a.createElement("div",null,"\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u0435\u0435 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435 ",a.data.Timestamp):"",a.data?r.a.createElement("div",null,"\u0417\u0430\u043f\u0440\u043e\u0448\u0435\u043d\u043d\u043e ",a.data.nowDate):"",r.a.createElement(I.a,{control:r.a.createElement(T.a,{checked:l,onChange:function(){u(!l),function(t){console.log("start interval");var n=setInterval((function(){t&&!a.isLoading&&e(b())}),1e4);t||clearInterval(n)}(!l)},name:"checkedB",color:"primary"}),label:"\u041e\u0431\u043d\u0430\u0432\u043b\u044f\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435 \u043a\u0430\u0436\u0434\u0443\u044e \u043c\u0438\u043d\u0443\u0442\u0443"})),s)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var x=t(41),A=t(18),V=t(77),W=t(24),B={data:null,isLoading:!1};var Y=Object(A.combineReducers)({currency:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case p:return Object(W.a)(Object(W.a)({},e),{},{isLoading:!0});case v:return Object(W.a)(Object(W.a)({},e),{},{data:a.data,isLoading:!1});case f:return Object(W.a)(Object(W.a)({},e),{},{isLoading:!0});default:return e}}}),F=t(78);var J,M=Object(A.createStore)(Y,J,Object(F.composeWithDevTools)(Object(A.applyMiddleware)(V.a)));l.a.render(r.a.createElement(x.a,{store:M},r.a.createElement(r.a.StrictMode,null,r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},83:function(e,a,t){e.exports=t(134)},88:function(e,a,t){},89:function(e,a,t){}},[[83,1,2]]]);
//# sourceMappingURL=main.cc7b213d.chunk.js.map